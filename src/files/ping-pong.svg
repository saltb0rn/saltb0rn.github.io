<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 770">
  <!-- Background -->
  <rect width="1200" height="900" fill="#cfcccc" />

  <!-- Main content container -->
  <g transform="translate(0, 30)">
    <!-- Title -->
    <rect x="50" y="20" width="1100" height="60" rx="10" ry="10" fill="#f0f0f0" opacity="0.95" />
    <text x="600" y="60" font-family="Arial, sans-serif" font-size="32" text-anchor="middle" font-weight="bold" fill="#333">
      Ping-Pong Framebuffer Technique
    </text>

    <!-- Frame 1 Container -->
    <g transform="translate(50, 120)">
      <rect x="0" y="0" width="1100" height="200" rx="10" ry="10" fill="#f0f0f0" opacity="0.95" />
      
      <!-- Frame 1 Label -->
      <text x="20" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#333">Frame 1</text>
      
      <!-- Framebuffer A -->
      <g transform="translate(150, 60)">
        <rect x="0" y="0" width="200" height="120" rx="8" ry="8" fill="#3b82f6" stroke="#2563eb" stroke-width="3"/>
        <text x="100" y="30" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" font-weight="bold" fill="#ffffff">Framebuffer A</text>
        <text x="100" y="70" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">READ</text>
        <text x="100" y="95" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff">(Source)</text>
      </g>
      
      <!-- Arrow from A to B -->
      <g transform="translate(380, 120)">
        <defs>
          <marker id="arrowhead1" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <polygon points="0 0, 10 3, 0 6" fill="#666" />
          </marker>
        </defs>
        <line x1="0" y1="0" x2="120" y2="0" stroke="#666" stroke-width="4" marker-end="url(#arrowhead1)"/>
      </g>
      
      <!-- Framebuffer B -->
      <g transform="translate(850, 60)">
        <rect x="0" y="0" width="200" height="120" rx="8" ry="8" fill="#22c55e" stroke="#16a34a" stroke-width="3"/>
        <text x="100" y="30" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" font-weight="bold" fill="#ffffff">Framebuffer B</text>
        <text x="100" y="70" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">WRITE</text>
        <text x="100" y="95" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff">(Destination)</text>
      </g>

       <g transform="translate(700, 120)">
        <defs>
          <marker id="arrowhead1" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <polygon points="0 0, 10 3, 0 6" fill="#666" />
          </marker>
        </defs>
        <line x1="0" y1="0" x2="120" y2="0" stroke="#666" stroke-width="4" marker-end="url(#arrowhead1)"/>
      </g>
      
      <!-- Shader representation -->
      <g transform="translate(525, 80)">
        <rect x="0" y="0" width="150" height="80" rx="8" ry="8" fill="#666" opacity="0.3"/>
        <text x="75" y="45" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#333">Shader/Effect</text>
      </g>
    </g>

    <!-- Frame 2 Container -->
    <g transform="translate(50, 340)">
      <rect x="0" y="0" width="1100" height="200" rx="10" ry="10" fill="#f0f0f0" opacity="0.95" />
      
      <!-- Frame 2 Label -->
      <text x="20" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#333">Frame 2</text>
      
      <!-- Framebuffer B (now source) -->
      <g transform="translate(150, 60)">
        <rect x="0" y="0" width="200" height="120" rx="8" ry="8" fill="#22c55e" stroke="#16a34a" stroke-width="3"/>
        <text x="100" y="30" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" font-weight="bold" fill="#ffffff">Framebuffer B</text>
        <text x="100" y="70" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">READ</text>
        <text x="100" y="95" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff">(Source)</text>
      </g>
      
      <!-- Arrow from B to A -->
      <g transform="translate(380, 120)">
        <defs>
          <marker id="arrowhead2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <polygon points="0 0, 10 3, 0 6" fill="#666" />
          </marker>
        </defs>
        <line x1="0" y1="0" x2="120" y2="0" stroke="#666" stroke-width="4" marker-end="url(#arrowhead2)"/>
      </g>
      
      <!-- Framebuffer A (now destination) -->
      <g transform="translate(850, 60)">
        <rect x="0" y="0" width="200" height="120" rx="8" ry="8" fill="#3b82f6" stroke="#2563eb" stroke-width="3"/>
        <text x="100" y="30" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" font-weight="bold" fill="#ffffff">Framebuffer A</text>
        <text x="100" y="70" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">WRITE</text>
        <text x="100" y="95" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#ffffff">(Destination)</text>
      </g>

       <g transform="translate(700, 120)">
        <defs>
          <marker id="arrowhead2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <polygon points="0 0, 10 3, 0 6" fill="#666" />
          </marker>
        </defs>
        <line x1="0" y1="0" x2="120" y2="0" stroke="#666" stroke-width="4" marker-end="url(#arrowhead2)"/>
      </g>
      
      <!-- Shader representation -->
      <g transform="translate(525, 80)">
        <rect x="0" y="0" width="150" height="80" rx="8" ry="8" fill="#666" opacity="0.3"/>
        <text x="75" y="45" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#333">Shader/Effect</text>
      </g>
    </g>

    <!-- Swap indicator -->
    <g transform="translate(50, 560)">
      <rect x="0" y="0" width="1100" height="120" rx="10" ry="10" fill="#f0f0f0" opacity="0.95" />
      
      <!-- Curved swap arrows -->
      <g transform="translate(550, 60)">
        <!-- Top curved arrow -->
        <path d="M -150 -20 Q 0 -50 150 -20" stroke="#3b82f6" stroke-width="4" fill="none"/>
        <polygon points="150,-25 160,-20 150,-15" fill="#3b82f6"/>
        
        <!-- Bottom curved arrow -->
        <path d="M 150 20 Q 0 50 -150 20" stroke="#22c55e" stroke-width="4" fill="none"/>
        <polygon points="-150,15 -160,20 -150,25" fill="#22c55e"/>
        
        <!-- Swap text -->
        <text x="0" y="5" font-family="Arial, sans-serif" font-size="22" text-anchor="middle" font-weight="bold" fill="#333">SWAP ROLES</text>
      </g>
      
    </g>
  </g>
</svg>